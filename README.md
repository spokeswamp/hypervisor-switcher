# hypervisor-switcher
–°–∫—Ä–∏–ø—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è Hyper-V (`hypervisorlaunchtype`) —Å —É–¥–æ–±–Ω—ã–º GUI-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º.

---

## ‚ùì –ó–∞—á–µ–º

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –∏–≥—Ä—ã –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å –≤–∫–ª—é—á—ë–Ω–Ω—ã–º Hyper-V:

- üõ°Ô∏è **Vanguard (–∞–Ω—Ç–∏—á–∏—Ç –æ—Ç Riot Games)** —Ç—Ä–µ–±—É–µ—Ç **–æ—Ç–∫–ª—é—á—ë–Ω–Ω–æ–≥–æ –≥–∏–ø–µ—Ä–≤–∏–∑–æ—Ä–∞** ‚Äî –∏–Ω–∞—á–µ –∏–≥—Ä–∞ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è.
- ‚òÅÔ∏è –í —Ç–æ –∂–µ –≤—Ä–µ–º—è, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ (WSL2, Docker Desktop, –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã –∏ –ø—Ä.) **—Ç—Ä–µ–±—É—é—Ç –≤–∫–ª—é—á—ë–Ω–Ω–æ–≥–æ Hyper-V**.

–†—É—á–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —á–µ—Ä–µ–∑ `bcdedit` ‚Äî –Ω–µ—É–¥–æ–±–Ω–æ. –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –¥–µ–ª–∞–µ—Ç –≤—Å—ë –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.

---

## ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å `hypervisorlaunchtype`;
- –ú–µ–Ω—è–µ—Ç –µ–≥–æ –Ω–∞ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–π (`auto` ‚Üî `off`);
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–ª–µ—Ä—Ç `Hypervisor ON/OFF` + –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É;
- –í—Å—ë —ç—Ç–æ –±–µ–∑ –∫–æ–Ω—Å–æ–ª—å–Ω—ã—Ö –æ–∫–æ–Ω, —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

> ‚ö†Ô∏è **–í–Ω–µ—Å—ë–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Å—Ç—É–ø–∞—é—Ç –≤ —Å–∏–ª—É —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å–∏—Å—Ç–µ–º—ã.**
> 
---

## üì¶ –£–ø–∞–∫–æ–≤–∫–∞ –≤ `.exe`

> –î–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –≤ EXE –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è [ps2exe](https://github.com/MScholtes/PS2EXE).

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `ps2exe`
```powershell
Install-Module -Name ps2exe -Scope CurrentUser
```

### 2. –£–ø–∞–∫–æ–≤–∞—Ç—å –≤ `.exe`
```powershell
Invoke-PS2EXE -InputFile .\switcher.ps1 -OutputFile .\switcher.exe -NoConsole -RequireAdmin
```

